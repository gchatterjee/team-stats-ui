import{R as a,a as t,p as P,w as dt,y as pt}from"./chunk-WWGJGFF6-Ddys8Jpy.js";import{G as ge,_ as mt,a as ht,b as Ie,c as qe,C as Fe,d as ye,e as ae,H as ft,f as Ct,g as gt,h as yt,i as vt,j as Rt,k as St,R as wt,l as bt,T as Pt,m as Et,n as Mt,o as kt,p as Ft,q as xt,r as Gt,s as Ee,t as At,v as Dt,w as Bt,x as Ot,y as Nt,F as It,z as Wt,B as Ge,V as Tt,D as Ht,I as jt,E as Ut,u as je,N as Lt,J as Ue}from"./main.esm-kOUgOBGV.js";import{a as Qe,R as Vt}from"./index-BM8RSyYd.js";const _t=[0,40,50,60,70,80,90,100,110,120],$t=e=>_t.filter(s=>s<=e),zt=(e,s)=>!s[e]||!s[e][0]?0:s[e][0].length,Oe={[ge.Women]:"Women",[ge.Men]:"Men",[ge.NonBinary]:"Non-Binary"},Jt=e=>{const s=["th","st","nd","rd"],r=e%100;return s[(r-20)%10]||s[r]||s[0]},Ye=e=>{const s=Math.floor(e/1e3),r=Math.floor(s/3600),n=Math.floor(s%3600/60),o=s%60,c=[];return c.push(r.toString().padStart(2,"0")),c.push(n.toString().padStart(2,"0")),c.push(o.toString().padStart(2,"0")),c.join(":")};var Z=a.createContext({}),Ze=a.createContext("default"),be=(e,s,r,n)=>{if(!e||e.componentFromFramework||s.isDestroyed())return;const c=e.newAgStackInstance();let u,l,i=!1;return c.then(m=>{if(i){s.destroyBean(m);return}u=m,l=u.getGui(),r.appendChild(l),Le(n,u)}),()=>{i=!0,u&&(l?.remove(),s.destroyBean(u),n&&Le(n,void 0))}},Le=(e,s)=>{if(e)if(e instanceof Function)e(s);else{const r=e;r.current=s}},ne=(...e)=>e.filter(r=>r!=null&&r!=="").join(" "),oe=class Xe{constructor(...s){this.classesMap={};for(const r of s)this.classesMap[r]=!0}setClass(s,r){if(!!this.classesMap[s]==r)return this;const o=new Xe;return o.classesMap={...this.classesMap},o.classesMap[s]=r,o}toString(){return Object.keys(this.classesMap).filter(r=>this.classesMap[r]).join(" ")}},ve=e=>{const s=()=>typeof Symbol=="function"&&Symbol.for,r=()=>s()?Symbol.for("react.memo"):60115;return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===r()},Ne=a.version?.split(".")[0],et=Ne==="16"||Ne==="17";function Kt(){return Ne==="19"}var Me=!1;function qt(e){return Me||setTimeout(()=>Me=!1,0),Me=!0,e()}var we=(e,s)=>{!et&&e&&!Me?Vt.flushSync(s):s()},Qt=e=>{et?e():a.startTransition(e)};function Yt(e,s,r){return a.useSyncExternalStore?a.useSyncExternalStore(e,s):r}function ke(e,s,r){if(s==null||e==null)return s;if(e===s||s.length===0&&e.length===0)return e;if(r||e.length===0&&s.length>0||e.length>0&&s.length===0)return s;const n=[],o=[],c=new Map,u=new Map;for(let l=0;l<s.length;l++){const i=s[l];u.set(i.instanceId,i)}for(let l=0;l<e.length;l++){const i=e[l];c.set(i.instanceId,i),u.has(i.instanceId)&&n.push(i)}for(let l=0;l<s.length;l++){const i=s[l],m=i.instanceId;c.has(m)||o.push(i)}return n.length===e.length&&o.length===0?e:n.length===0&&o.length===s.length?s:n.length===0?o:o.length===0?n:[...n,...o]}var tt=t.forwardRef((e,s)=>{const{registry:r,context:n}=t.useContext(Z),o=t.useRef(null),c=t.useRef(null),u=t.useRef(null),l=t.useRef(null),i=t.useRef(null),m=t.useRef(),[d,E]=t.useState(),[w,h]=t.useState(),[k,g]=t.useState(),[C,p]=t.useState(()=>new oe),[F,x]=t.useState(()=>new oe("ag-hidden")),[v,f]=t.useState(()=>new oe("ag-hidden")),[T,B]=t.useState(()=>new oe("ag-invisible"));t.useImperativeHandle(s,()=>({refresh(){return!1}})),t.useLayoutEffect(()=>be(d,n,c.current),[d]);const _=t.useCallback(j=>{if(o.current=j,!j||n.isDestroyed()){m.current=n.destroyBean(m.current);return}const G={setInnerRenderer:(A,L)=>{E(A),g(L)},setChildCount:A=>h(A),toggleCss:(A,L)=>p(D=>D.setClass(A,L)),setContractedDisplayed:A=>f(L=>L.setClass("ag-hidden",!A)),setExpandedDisplayed:A=>x(L=>L.setClass("ag-hidden",!A)),setCheckboxVisible:A=>B(L=>L.setClass("ag-invisible",!A)),setCheckboxSpacing:A=>B(L=>L.setClass("ag-group-checkbox-spacing",A))},U=r.createDynamicBean("groupCellRendererCtrl",!0);U&&(m.current=n.createBean(U),m.current.init(G,j,u.current,l.current,i.current,tt,e))},[]),I=t.useMemo(()=>`ag-cell-wrapper ${C.toString()}`,[C]),O=t.useMemo(()=>`ag-group-expanded ${F.toString()}`,[F]),y=t.useMemo(()=>`ag-group-contracted ${v.toString()}`,[v]),S=t.useMemo(()=>`ag-group-checkbox ${T.toString()}`,[T]),R=d?.componentFromFramework,W=R?d.componentClass:void 0,b=d==null&&k!=null,K=mt(k);return a.createElement("span",{className:I,ref:_,...e.colDef?{}:{role:m.current?.getCellAriaRole()}},a.createElement("span",{className:O,ref:l}),a.createElement("span",{className:y,ref:i}),a.createElement("span",{className:S,ref:u}),a.createElement("span",{className:"ag-group-value",ref:c},b?K:R?a.createElement(W,{...d.params}):null),a.createElement("span",{className:"ag-group-child-count"},w))}),Ve=tt,We=t.createContext({setMethods:()=>{}}),Zt=e=>{const{initialProps:s,addUpdateCallback:r,CustomComponentClass:n,setMethods:o}=e,[{key:c,...u},l]=t.useState(s);return t.useEffect(()=>{r(i=>l(i))},[]),a.createElement(We.Provider,{value:{setMethods:o}},a.createElement(n,{key:c,...u}))},Xt=t.memo(Zt),es=0;function _e(){return`agPortalKey_${++es}`}var st=class{constructor(e,s,r,n){this.portal=null,this.oldPortal=null,this.reactComponent=e,this.portalManager=s,this.componentType=r,this.suppressFallbackMethods=!!n,this.statelessComponent=this.isStateless(this.reactComponent),this.key=_e(),this.portalKey=_e(),this.instanceCreated=this.isStatelessComponent()?ae.resolve(!1):new ae(o=>{this.resolveInstanceCreated=o})}getGui(){return this.eParentElement}getRootElement(){return this.eParentElement.firstChild}destroy(){this.componentInstance&&typeof this.componentInstance.destroy=="function"&&this.componentInstance.destroy();const e=this.portal;e&&this.portalManager.destroyPortal(e)}createParentElement(e){const s=this.portalManager.getComponentWrappingElement(),r=document.createElement(s||"div");return r.classList.add("ag-react-container"),e.reactContainer=r,r}statelessComponentRendered(){return this.eParentElement.childElementCount>0||this.eParentElement.childNodes.length>0}getFrameworkComponentInstance(){return this.componentInstance}isStatelessComponent(){return this.statelessComponent}getReactComponentName(){return this.reactComponent.name}getMemoType(){return this.hasSymbol()?Symbol.for("react.memo"):60115}hasSymbol(){return typeof Symbol=="function"&&Symbol.for}isStateless(e){return typeof e=="function"&&!(e.prototype&&e.prototype.isReactComponent)||typeof e=="object"&&e.$$typeof===this.getMemoType()}hasMethod(e){const s=this.getFrameworkComponentInstance();return!!s&&s[e]!=null||this.fallbackMethodAvailable(e)}callMethod(e,s){const r=this.getFrameworkComponentInstance();if(this.isStatelessComponent())return this.fallbackMethod(e,s&&s[0]?s[0]:{});if(!r){setTimeout(()=>this.callMethod(e,s));return}const n=r[e];if(n)return n.apply(r,s);if(this.fallbackMethodAvailable(e))return this.fallbackMethod(e,s&&s[0]?s[0]:{})}addMethod(e,s){this[e]=s}init(e){return this.eParentElement=this.createParentElement(e),this.createOrUpdatePortal(e),new ae(s=>this.createReactComponent(s))}createOrUpdatePortal(e){this.isStatelessComponent()||(this.ref=s=>{this.componentInstance=s,this.resolveInstanceCreated?.(!0),this.resolveInstanceCreated=void 0},e.ref=this.ref),this.reactElement=this.createElement(this.reactComponent,{...e,key:this.key}),this.portal=Qe.createPortal(this.reactElement,this.eParentElement,this.portalKey)}createElement(e,s){return t.createElement(e,s)}createReactComponent(e){this.portalManager.mountReactPortal(this.portal,this,e)}rendered(){return this.isStatelessComponent()&&this.statelessComponentRendered()||!!(!this.isStatelessComponent()&&this.getFrameworkComponentInstance())}refreshComponent(e){this.oldPortal=this.portal,this.createOrUpdatePortal(e),this.portalManager.updateReactPortal(this.oldPortal,this.portal)}fallbackMethod(e,s){const r=this[`${e}Component`];if(!this.suppressFallbackMethods&&r)return r.bind(this)(s)}fallbackMethodAvailable(e){return this.suppressFallbackMethods?!1:!!this[`${e}Component`]}};function xe(e,s,r){for(const n of e){const o=s[n];o&&(r[n]=o)}}var ce=class extends st{constructor(){super(...arguments),this.awaitUpdateCallback=new ae(e=>{this.resolveUpdateCallback=e}),this.wrapperComponent=Xt}init(e){return this.sourceParams=e,super.init(this.getProps())}addMethod(){}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}getFrameworkComponentInstance(){return this}createElement(e,s){return super.createElement(this.wrapperComponent,{initialProps:s,CustomComponentClass:e,setMethods:r=>this.setMethods(r),addUpdateCallback:r=>{this.updateCallback=()=>(r(this.getProps()),new ae(n=>{setTimeout(()=>{n()})})),this.resolveUpdateCallback()}})}setMethods(e){this.providedMethods=e,xe(this.getOptionalMethods(),this.providedMethods,this)}getOptionalMethods(){return[]}getProps(){return{...this.sourceParams,key:this.key,ref:this.ref}}refreshProps(){return this.updateCallback?this.updateCallback():new ae(e=>this.awaitUpdateCallback.then(()=>{this.updateCallback().then(()=>e())}))}},ts=class extends ce{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ss=class extends ce{refresh(e){this.sourceParams=e,this.refreshProps()}},rs=class extends ce{constructor(){super(...arguments),this.date=null,this.onDateChange=e=>this.updateDate(e)}getDate(){return this.date}setDate(e){this.date=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached","setInputPlaceholder","setInputAriaLabel","setDisabled"]}updateDate(e){this.setDate(e),this.sourceParams.onDateChanged()}getProps(){const e=super.getProps();return e.date=this.date,e.onDateChange=this.onDateChange,delete e.onDateChanged,e}},ns=class extends ce{constructor(){super(...arguments),this.label="",this.icon=null,this.shake=!1}setIcon(e,s){this.icon=e,this.shake=s,this.refreshProps()}setLabel(e){this.label=e,this.refreshProps()}getProps(){const e=super.getProps(),{label:s,icon:r,shake:n}=this;return e.label=s,e.icon=r,e.shake=n,e}},os=class extends ce{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e),this.onUiChange=()=>this.sourceParams.filterModifiedCallback(),this.expectingNewMethods=!0,this.hasBeenActive=!1,this.awaitSetMethodsCallback=new ae(e=>{this.resolveSetMethodsCallback=e})}isFilterActive(){return this.model!=null}doesFilterPass(e){return this.providedMethods.doesFilterPass(e)}getModel(){return this.model}setModel(e){return this.expectingNewMethods=!0,this.model=e,this.hasBeenActive||(this.hasBeenActive=this.isFilterActive()),this.refreshProps()}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const s=this.providedMethods;s?s.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","getModelAsString","onAnyFilterChanged"]}setMethods(e){this.expectingNewMethods===!1&&this.hasBeenActive&&this.providedMethods?.doesFilterPass!==e?.doesFilterPass&&setTimeout(()=>{this.sourceParams.filterChangedCallback()}),this.expectingNewMethods=!1,super.setMethods(e),this.resolveSetMethodsCallback(),this.resolveFilterPassCallback?.(),this.resolveFilterPassCallback=void 0}updateModel(e){this.resolveFilterPassCallback?.();const s=new ae(r=>{this.resolveFilterPassCallback=r});this.setModel(e).then(()=>{s.then(()=>{this.sourceParams.filterChangedCallback()})})}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e.onUiChange=this.onUiChange,delete e.filterChangedCallback,e}},as=class extends ce{constructor(){super(...arguments),this.awaitSetMethodsCallback=new ae(e=>{this.resolveSetMethodsCallback=e})}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}afterGuiAttached(e){const s=this.providedMethods;s?s.afterGuiAttached?.(e):this.awaitSetMethodsCallback.then(()=>this.providedMethods?.afterGuiAttached?.(e))}getOptionalMethods(){return["afterGuiDetached","onNewRowsLoaded","onAnyFilterChanged"]}setMethods(e){super.setMethods(e),this.resolveSetMethodsCallback()}};function rt(e,s){e.parentFilterInstance(r=>{(r.setModel(s)||ae.resolve()).then(()=>{e.filterParams.filterChangedCallback()})})}var cs=class{constructor(e,s){this.floatingFilterParams=e,this.refreshProps=s,this.model=null,this.onModelChange=r=>this.updateModel(r)}getProps(){return{...this.floatingFilterParams,model:this.model,onModelChange:this.onModelChange}}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){xe(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),rt(this.floatingFilterParams,e)}},is=class extends ce{constructor(){super(...arguments),this.model=null,this.onModelChange=e=>this.updateModel(e)}onParentModelChanged(e){this.model=e,this.refreshProps()}refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}updateModel(e){this.model=e,this.refreshProps(),rt(this.sourceParams,e)}getProps(){const e=super.getProps();return e.model=this.model,e.onModelChange=this.onModelChange,e}},ls=class extends ce{refresh(e){this.sourceParams=e,this.refreshProps()}getOptionalMethods(){return["afterGuiAttached"]}},us=class extends ce{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ds=class extends ce{constructor(){super(...arguments),this.active=!1,this.expanded=!1,this.onActiveChange=e=>this.updateActive(e)}setActive(e){this.awaitSetActive(e)}setExpanded(e){this.expanded=e,this.refreshProps()}getOptionalMethods(){return["select","configureDefaults"]}awaitSetActive(e){return this.active=e,this.refreshProps()}updateActive(e){const s=this.awaitSetActive(e);e&&s.then(()=>this.sourceParams.onItemActivated())}getProps(){const e=super.getProps();return e.active=this.active,e.expanded=this.expanded,e.onActiveChange=this.onActiveChange,delete e.onItemActivated,e}},ps=class extends ce{refresh(e){return this.sourceParams=e,this.refreshProps(),!0}},ms=class extends ce{constructor(){super(...arguments),this.onStateChange=e=>this.updateState(e)}refresh(e){return this.sourceParams=e,this.refreshProps(),!0}getState(){return this.state}updateState(e){this.state=e,this.refreshProps(),this.sourceParams.onStateUpdated()}getProps(){const e=super.getProps();return e.state=this.state,e.onStateChange=this.onStateChange,e}};function Te(){Ie(231)}var hs=1e3,fs=class{constructor(e,s,r){this.destroyed=!1,this.portals=[],this.hasPendingPortalUpdate=!1,this.wrappingElement=s||"div",this.refresher=e,this.maxComponentCreationTimeMs=r||hs}getPortals(){return this.portals}destroy(){this.destroyed=!0}destroyPortal(e){this.portals=this.portals.filter(s=>s!==e),this.batchUpdate()}getComponentWrappingElement(){return this.wrappingElement}mountReactPortal(e,s,r){this.portals=[...this.portals,e],this.waitForInstance(s,r),this.batchUpdate()}updateReactPortal(e,s){this.portals[this.portals.indexOf(e)]=s,this.batchUpdate()}batchUpdate(){this.hasPendingPortalUpdate||(setTimeout(()=>{this.destroyed||(this.refresher(),this.hasPendingPortalUpdate=!1)}),this.hasPendingPortalUpdate=!0)}waitForInstance(e,s,r=Date.now()){if(this.destroyed){s(null);return}if(e.rendered())s(e);else{if(Date.now()-r>=this.maxComponentCreationTimeMs&&!this.hasPendingPortalUpdate){we(!0,()=>this.refresher()),e.rendered()&&s(e);return}window.setTimeout(()=>{this.waitForInstance(e,s,r)})}}},Cs=({ctrl:e})=>{const s=e.isAlive(),{context:r}=t.useContext(Z),[n,o]=t.useState(),[c,u]=t.useState(),l=t.useRef(),i=t.useRef(null),m=t.useRef(null),d=t.useRef(null),E=t.useRef(),w=t.useRef();s&&!w.current&&(w.current=new Fe(()=>i.current));const h=t.useCallback(p=>{if(i.current=p,!p||!e.isAlive()||r.isDestroyed()){l.current=r.destroyBean(l.current);return}l.current=r.createBean(new ye);const F=()=>{const v=e.getSelectAllGui();v&&(m.current?.insertAdjacentElement("afterend",v),l.current.addDestroyFunc(()=>v.remove()))},x={setWidth:v=>{i.current&&(i.current.style.width=v)},toggleCss:(v,f)=>w.current.toggleCss(v,f),setUserStyles:v=>u(v),setAriaSort:v=>{i.current&&(v?At(i.current,v):Dt(i.current))},setUserCompDetails:v=>o(v),getUserCompInstance:()=>E.current||void 0,refreshSelectAllGui:F,removeSelectAllGui:()=>e.getSelectAllGui()?.remove()};e.setComp(x,p,m.current,d.current,l.current),F()},[]);t.useLayoutEffect(()=>be(n,r,d.current,E),[n]),t.useEffect(()=>{e.setDragSource(i.current)},[n]);const k=t.useMemo(()=>!!(n?.componentFromFramework&&ve(n.componentClass)),[n]),g=n?.componentFromFramework,C=n?.componentClass;return a.createElement("div",{ref:h,style:c,className:"ag-header-cell",role:"columnheader"},a.createElement("div",{ref:m,className:"ag-header-cell-resize",role:"presentation"}),a.createElement("div",{ref:d,className:"ag-header-cell-comp-wrapper",role:"presentation"},g?k?a.createElement(C,{...n.params}):a.createElement(C,{...n.params,ref:E}):null))},gs=t.memo(Cs),ys=class{constructor(e,s){this.floatingFilterParams=e,this.refreshProps=s}getProps(){return this.floatingFilterParams}refresh(e){this.floatingFilterParams=e,this.refreshProps()}setMethods(e){xe(this.getOptionalMethods(),e,this)}getOptionalMethods(){return["afterGuiAttached"]}},vs=({ctrl:e})=>{const{context:s,gos:r}=t.useContext(Z),[n,o]=t.useState(),[c,u]=t.useState(()=>new oe("ag-header-cell","ag-floating-filter")),[l,i]=t.useState(()=>new oe),[m,d]=t.useState(()=>new oe("ag-floating-filter-button","ag-hidden")),[E,w]=t.useState("false"),[h,k]=t.useState(),[,g]=t.useState(1),C=t.useRef(),p=t.useRef(null),F=t.useRef(null),x=t.useRef(null),v=t.useRef(null),f=t.useRef(),T=t.useRef(),B=A=>{A!=null&&f.current&&f.current(A)},_=t.useCallback(A=>{if(p.current=A,!A||!e.isAlive()||s.isDestroyed()){C.current=s.destroyBean(C.current);return}C.current=s.createBean(new ye),T.current=new ae(D=>{f.current=D});const L={toggleCss:(D,H)=>u(Q=>Q.setClass(D,H)),setUserStyles:D=>o(D),addOrRemoveBodyCssClass:(D,H)=>i(Q=>Q.setClass(D,H)),setButtonWrapperDisplayed:D=>{d(H=>H.setClass("ag-hidden",!D)),w(D?"false":"true")},setWidth:D=>{p.current&&(p.current.style.width=D)},setCompDetails:D=>k(D),getFloatingFilterComp:()=>T.current?T.current:null,setMenuIcon:D=>v.current?.appendChild(D)};e.setComp(L,A,v.current,F.current,C.current)},[]);t.useLayoutEffect(()=>be(h,s,F.current,B),[h]);const I=t.useMemo(()=>c.toString(),[c]),O=t.useMemo(()=>l.toString(),[l]),y=t.useMemo(()=>m.toString(),[m]),S=t.useMemo(()=>!!(h&&h.componentFromFramework&&ve(h.componentClass)),[h]),R=t.useMemo(()=>r.get("reactiveCustomComponents"),[]),W=t.useMemo(()=>r.get("enableFilterHandlers"),[]),[b,K]=t.useState();t.useEffect(()=>{if(h?.componentFromFramework)if(R){const A=W?ys:cs,L=new A(h.params,()=>g(D=>D+1));B(L),K(L)}else Te()},[h]);const j=b?.getProps(),G=h?.componentFromFramework,U=h?.componentClass;return a.createElement("div",{ref:_,style:n,className:I,role:"gridcell"},a.createElement("div",{ref:F,className:O,role:"presentation"},G?R?j&&a.createElement(We.Provider,{value:{setMethods:A=>b.setMethods(A)}},a.createElement(U,{...j})):a.createElement(U,{...h.params,ref:S?()=>{}:B}):null),a.createElement("div",{ref:x,"aria-hidden":E,className:y,role:"presentation"},a.createElement("button",{ref:v,type:"button",className:"ag-button ag-floating-filter-button-button",tabIndex:-1})))},Rs=t.memo(vs),Ss=({ctrl:e})=>{const{context:s}=t.useContext(Z),[r,n]=t.useState(),[o,c]=t.useState(()=>new oe),[u,l]=t.useState(()=>new oe),[i,m]=t.useState("false"),[d,E]=t.useState(),[w,h]=t.useState(),k=t.useRef(),g=t.useRef(null),C=t.useRef(null),p=t.useRef(null),F=t.useRef(),x=t.useCallback(I=>{if(g.current=I,!I||!e.isAlive()||s.isDestroyed()){k.current=s.destroyBean(k.current);return}k.current=s.createBean(new ye);const O={setWidth:y=>{g.current&&(g.current.style.width=y)},toggleCss:(y,S)=>c(R=>R.setClass(y,S)),setUserStyles:y=>n(y),setHeaderWrapperHidden:y=>{const S=p.current;S&&(y?S.style.setProperty("display","none"):S.style.removeProperty("display"))},setHeaderWrapperMaxHeight:y=>{const S=p.current;S&&(y!=null?S.style.setProperty("max-height",`${y}px`):S.style.removeProperty("max-height"),S.classList.toggle("ag-header-cell-comp-wrapper-limited-height",y!=null))},setUserCompDetails:y=>h(y),setResizableDisplayed:y=>{l(S=>S.setClass("ag-hidden",!y)),m(y?"false":"true")},setAriaExpanded:y=>E(y),getUserCompInstance:()=>F.current||void 0};e.setComp(O,I,C.current,p.current,k.current)},[]);t.useLayoutEffect(()=>be(w,s,p.current),[w]),t.useEffect(()=>{g.current&&e.setDragSource(g.current)},[w]);const v=t.useMemo(()=>!!(w?.componentFromFramework&&ve(w.componentClass)),[w]),f=t.useMemo(()=>"ag-header-group-cell "+o.toString(),[o]),T=t.useMemo(()=>"ag-header-cell-resize "+u.toString(),[u]),B=w?.componentFromFramework,_=w?.componentClass;return a.createElement("div",{ref:x,style:r,className:f,role:"columnheader","aria-expanded":d},a.createElement("div",{ref:p,className:"ag-header-cell-comp-wrapper",role:"presentation"},B?v?a.createElement(_,{...w.params}):a.createElement(_,{...w.params,ref:F}):null),a.createElement("div",{ref:C,"aria-hidden":i,className:T}))},ws=t.memo(Ss),bs=({ctrl:e})=>{const{gos:s,context:r}=t.useContext(Z),{topOffset:n,rowHeight:o}=t.useMemo(()=>e.getTopAndHeight(),[]),c=t.useMemo(()=>s.get("tabIndex"),[]),[u,l]=t.useState(()=>e.getAriaRowIndex()),i=e.headerRowClass,[m,d]=t.useState(()=>o+"px"),[E,w]=t.useState(()=>n+"px"),h=t.useRef(null),[k,g]=t.useState(()=>e.getUpdatedHeaderCtrls()),C=t.useRef(),p=t.useRef(null),F=t.useCallback(f=>{if(p.current=f,!f||!e.isAlive()||r.isDestroyed()){C.current=r.destroyBean(C.current);return}C.current=r.createBean(new ye);const T={setHeight:B=>d(B),setTop:B=>w(B),setHeaderCtrls:(B,_,I)=>{const O=h.current,y=ke(O,B,_);y!==O&&(h.current=y,we(I,()=>g(y)))},setWidth:B=>{p.current&&(p.current.style.width=B)},setRowIndex:B=>{l(B)}};e.setComp(T,C.current,!1)},[]),x=t.useMemo(()=>({height:m,top:E}),[m,E]),v=t.useCallback(f=>{switch(e.type){case"group":return a.createElement(ws,{ctrl:f,key:f.instanceId});case"filter":return a.createElement(Rs,{ctrl:f,key:f.instanceId});default:return a.createElement(gs,{ctrl:f,key:f.instanceId})}},[]);return a.createElement("div",{ref:F,className:i,role:"row",style:x,tabIndex:c,"aria-rowindex":u},k.map(v))},Ps=t.memo(bs),Es=({pinned:e})=>{const[s,r]=t.useState(!0),[n,o]=t.useState([]),{context:c}=t.useContext(Z),u=t.useRef(null),l=t.useRef(null),i=t.useRef(),m=e==="left",d=e==="right",E=!m&&!d,w=t.useCallback(g=>{if(u.current=g,!g||c.isDestroyed()){i.current=c.destroyBean(i.current);return}i.current=c.createBean(new ft(e));const C={setDisplayed:r,setCtrls:p=>o(p),setCenterWidth:p=>{l.current&&(l.current.style.width=p)},setViewportScrollLeft:p=>{u.current&&(u.current.scrollLeft=p)},setPinnedContainerWidth:p=>{u.current&&(u.current.style.width=p,u.current.style.minWidth=p,u.current.style.maxWidth=p)}};i.current.setComp(C,u.current)},[]),h=s?"":"ag-hidden",k=()=>n.map(g=>a.createElement(Ps,{ctrl:g,key:g.instanceId}));return m?a.createElement("div",{ref:w,className:"ag-pinned-left-header "+h,"aria-hidden":!s,role:"rowgroup"},k()):d?a.createElement("div",{ref:w,className:"ag-pinned-right-header "+h,"aria-hidden":!s,role:"rowgroup"},k()):E?a.createElement("div",{ref:w,className:"ag-header-viewport "+h,role:"rowgroup",tabIndex:-1},a.createElement("div",{ref:l,className:"ag-header-container",role:"presentation"},k())):null},Ae=t.memo(Es),Ms=()=>{const[e,s]=t.useState(()=>new oe),[r,n]=t.useState(),{context:o}=t.useContext(Z),c=t.useRef(null),u=t.useRef(),l=t.useCallback(d=>{if(c.current=d,!d||o.isDestroyed()){u.current=o.destroyBean(u.current);return}u.current=o.createBean(new Ct);const E={toggleCss:(w,h)=>s(k=>k.setClass(w,h)),setHeightAndMinHeight:w=>n(w)};u.current.setComp(E,d,d)},[]),i=t.useMemo(()=>"ag-header "+e.toString(),[e]),m=t.useMemo(()=>({height:r,minHeight:r}),[r]);return a.createElement("div",{ref:l,className:i,style:m,role:"presentation"},a.createElement(Ae,{pinned:"left"}),a.createElement(Ae,{pinned:null}),a.createElement(Ae,{pinned:"right"}))},ks=t.memo(Ms),Fs=(e,s)=>{t.useEffect(()=>{const r=s.current;if(r){const n=r.parentElement;if(n){const o=document.createComment(e);return n.insertBefore(o,r),()=>{o.remove()}}}},[e])},he=Fs,xs=class{constructor(e,s){this.cellEditorParams=e,this.refreshProps=s,this.instanceCreated=new ae(r=>{this.resolveInstanceCreated=r}),this.onValueChange=r=>this.updateValue(r),this.value=e.value}getProps(){return{...this.cellEditorParams,initialValue:this.cellEditorParams.value,value:this.value,onValueChange:this.onValueChange}}getValue(){return this.value}refresh(e){this.cellEditorParams=e,this.refreshProps()}setMethods(e){xe(this.getOptionalMethods(),e,this)}getInstance(){return this.instanceCreated.then(()=>this.componentInstance)}setRef(e){this.componentInstance=e,this.resolveInstanceCreated?.(),this.resolveInstanceCreated=void 0}getOptionalMethods(){return["isCancelBeforeStart","isCancelAfterEnd","focusIn","focusOut","afterGuiAttached","getValidationErrors","getValidationElement"]}updateValue(e){this.value=e,this.refreshProps()}},Gs=e=>{const s=t.useRef(e),r=t.useRef(),n=t.useRef(!1),o=t.useRef(!1),[,c]=t.useState(0);n.current&&(o.current=!0),t.useEffect(()=>(n.current||(r.current=s.current(),n.current=!0),c(u=>u+1),()=>{o.current&&r.current?.()}),[])},As=e=>{const[s,r]=t.useState(),n=t.useContext(Z),{context:o,popupSvc:c,gos:u,editSvc:l}=n,{editDetails:i,cellCtrl:m,eParentCell:d}=e;return Gs(()=>{const{compDetails:E}=i,w=u.get("stopEditingWhenCellsLoseFocus");let h,k;if(!o.isDestroyed()){k=o.createBean(l.createPopupEditorWrapper(E.params));const g=k.getGui();if(e.jsChildComp){const f=e.jsChildComp.getGui();f&&g.appendChild(f)}const{column:C,rowNode:p}=m,F={column:C,rowNode:p,type:"popupCellEditor",eventSource:d,ePopup:g,position:i.popupPosition,keepWithinBounds:!0},x=c?.positionPopupByComponent.bind(c,F),v=c?.addPopup({modal:w,eChild:g,closeOnEsc:!0,closedCallback:()=>{m.onPopupEditorClosed()},anchorToElement:d,positionCallback:x,ariaOwns:d});h=v?v.hideFunc:void 0,r(k),e.jsChildComp?.afterGuiAttached?.()}return()=>{h?.(),o.destroyBean(k)}}),t.useLayoutEffect(()=>()=>{m.isCellFocused()&&s?.getGui().contains(gt(n))&&d.focus({preventScroll:!0})},[s]),s&&e.wrappedContent?Qe.createPortal(e.wrappedContent,s.getGui()):null},$e=t.memo(As),Ds=(e,s,r)=>{const{compProxy:n}=e;r(n);const o=n.getProps(),c=ve(s);return a.createElement(We.Provider,{value:{setMethods:u=>n.setMethods(u)}},c?a.createElement(s,{...o}):a.createElement(s,{...o,ref:u=>n.setRef(u)}))},ze=(e,s,r)=>e.compProxy?Ds(e,s,r):a.createElement(s,{...e.compDetails.params,ref:r}),Bs=(e,s,r,n,o)=>{const c=e.compDetails,u=c.componentClass,l=c.componentFromFramework&&!e.popup,i=c.componentFromFramework&&e.popup,m=!c.componentFromFramework&&e.popup;return l?ze(e,u,s):i?a.createElement($e,{editDetails:e,cellCtrl:n,eParentCell:r,wrappedContent:ze(e,u,s)}):m&&o?a.createElement($e,{editDetails:e,cellCtrl:n,eParentCell:r,jsChildComp:o}):null},Os=(e,s,r,n,o,c,u=!1)=>{const{context:l}=t.useContext(Z),i=t.useCallback(()=>{const m=o.current;if(!m)return;const d=m.getGui();d&&d.parentElement&&d.remove(),l.destroyBean(m),o.current=void 0},[]);t.useEffect(()=>{const m=e!=null&&!u,d=e?.compDetails&&!e.compDetails.componentFromFramework,E=s&&r==null;if(!(m&&d&&!E)){i();return}const h=e.compDetails;if(o.current){const g=o.current,p=g.refresh!=null&&e.force==!1?g.refresh(h.params):!1;if(p===!0||p===void 0)return;i()}h.newAgStackInstance().then(g=>{if(!g)return;const C=g.getGui();if(!C)return;(s?r:c.current).appendChild(C),o.current=g})},[e,s,n,u]),t.useEffect(()=>i,[])},nt=Os,Ns=({cellCtrl:e,parent:s})=>{const r=t.useRef(),n=t.useMemo(()=>{const{loadingComp:o}=e.getDeferLoadingCellRenderer();return o?{value:void 0,compDetails:o,force:!1}:void 0},[e]);if(nt(n,!1,void 0,1,r,s),n?.compDetails?.componentFromFramework){const o=n.compDetails.componentClass;return a.createElement(o,{...n.compDetails.params})}return a.createElement(a.Fragment,null)},Is=({cellCtrl:e,printLayout:s,editingCell:r})=>{const n=t.useContext(Z),{context:o}=n,{column:{colIdSanitised:c},instanceId:u}=e,l=t.useRef(),[i,m]=t.useState(()=>e.isCellRenderer()?void 0:{compDetails:void 0,value:e.getValueToDisplay(),force:!1}),[d,E]=t.useState(),[w,h]=t.useState(1),[k,g]=t.useState(),[C,p]=t.useState(!1),[F,x]=t.useState(!1),[v,f]=t.useState(!1),[T,B]=t.useState(),_=t.useMemo(()=>e.isForceWrapper(),[e]),I=t.useMemo(()=>e.getCellAriaRole(),[e]),O=t.useRef(null),y=t.useRef(null),S=t.useRef(null),R=t.useRef(),W=t.useRef(),b=t.useRef(),K=t.useRef([]),j=t.useRef(),G=t.useRef(),[U,A]=t.useState(0),L=t.useCallback(N=>{G.current=N,A(V=>V+1)},[]),D=i!=null&&(C||v||F)&&(d==null||!!d.popup),H=_||D,Q=t.useMemo(()=>e.getCellValueClass(),[e]),le=t.useCallback(N=>{if(W.current=N,N){const V=N.isCancelBeforeStart&&N.isCancelBeforeStart();setTimeout(()=>{V?(e.stopEditing(!0),e.focusCell(!0)):(e.cellEditorAttached(),e.enableEditorTooltipFeature(N))})}},[e]),X=t.useRef();X.current||(X.current=new Fe(()=>O.current));const fe=!!d&&!d.popup;nt(i,H,G.current,U,R,O,fe);const Ce=t.useRef();t.useLayoutEffect(()=>{const N=Ce.current,V=i;if(Ce.current=i,N==null||N.compDetails==null||V==null||V.compDetails==null)return;j.current?.refreshVisibility();const Y=N.compDetails,q=V.compDetails;if(Y.componentClass!=q.componentClass||S.current?.refresh==null)return;S.current.refresh(q.params)!=!0&&h(z=>z+1)},[i]),t.useLayoutEffect(()=>{if(!(d&&!d.compDetails.componentFromFramework)||o.isDestroyed())return;const V=d.compDetails,Y=d.popup===!0,q=V.newAgStackInstance();return q.then(M=>{if(!M)return;const z=M.getGui();le(M),Y||((_?b:O).current?.appendChild(z),M.afterGuiAttached?.()),B(M)}),()=>{q.then(M=>{const z=M.getGui();e.disableEditorTooltipFeature(),o.destroyBean(M),le(void 0),B(void 0),z?.remove()})}},[d]);const Re=t.useCallback(N=>{if(b.current=N,!N||o.isDestroyed()||!e.isAlive()){const q=K.current;K.current=[];for(const M of q)M();return}let V;const Y=q=>{q&&(N.insertAdjacentElement("afterbegin",q.getGui()),K.current.push(()=>{Bt(q.getGui()),o.destroyBean(q),j.current===V&&(j.current=void 0)}))};C&&Y(e.createSelectionCheckbox()),v&&Y(e.createDndSource()),F&&(V=e.createRowDragComp(),j.current=V,V&&(Y(V),V.refreshVisibility()))},[e,o,v,F,C]),$=t.useCallback(()=>{const N=!e.isCellSpanning()||y.current,V=O.current;if(!V||!N||!e||!e.isAlive()||o.isDestroyed()){l.current=o.destroyBean(l.current);return}l.current=o.createBean(new ye);const Y={toggleCss:(M,z)=>X.current.toggleCss(M,z),setUserStyles:M=>g(M),getFocusableElement:()=>O.current,setIncludeSelection:M=>p(M),setIncludeRowDrag:M=>x(M),setIncludeDndSource:M=>f(M),getCellEditor:()=>W.current??null,getCellRenderer:()=>S.current??R.current,getParentOfValue:()=>G.current??b.current??O.current,setRenderDetails:(M,z,te)=>{const ue=()=>{m(se=>se?.compDetails!==M||se?.value!==z||se?.force!==te?{value:z,compDetails:M,force:te}:se)};if(M?.params?.deferRender&&!e.rowNode.group){const{loadingComp:se,onReady:Se}=e.getDeferLoadingCellRenderer();if(se){m({value:void 0,compDetails:se,force:!1}),Se.then(()=>Qt(ue));return}}ue()},setEditDetails:(M,z,te,ue)=>{if(M){let se;M.componentFromFramework&&(ue?se=new xs(M.params,()=>h(Se=>Se+1)):Te()),E({compDetails:M,popup:z,popupPosition:te,compProxy:se}),z||m(void 0)}else e.hasBrowserFocus()&&Y.getFocusableElement().focus({preventScroll:!0}),W.current=void 0,E(void 0)},refreshEditStyles:(M,z)=>{if(!O.current)return;const{current:te}=X;te.toggleCss("ag-cell-value",!H),te.toggleCss("ag-cell-inline-editing",!!M&&!z),te.toggleCss("ag-cell-popup-editing",!!M&&!!z),te.toggleCss("ag-cell-not-inline-editing",!M||!!z)}},q=b.current||void 0;e.setComp(Y,V,y.current??void 0,q,s,r,l.current)},[]),me=t.useCallback(N=>{O.current=N,$()},[]),ee=t.useCallback(N=>{y.current=N,$()},[]),ie=t.useMemo(()=>!!(i?.compDetails?.componentFromFramework&&ve(i.compDetails.componentClass)),[i]);t.useLayoutEffect(()=>{if(!O.current)return;const{current:N}=X;N.toggleCss("ag-cell-value",!H),N.toggleCss("ag-cell-inline-editing",!!d&&!d.popup),N.toggleCss("ag-cell-popup-editing",!!d&&!!d.popup),N.toggleCss("ag-cell-not-inline-editing",!d||!!d.popup)});const de=()=>{const{compDetails:N,value:V}=i;if(!N)return V?.toString?.()??V;if(N.componentFromFramework){const Y=N.componentClass;return a.createElement(t.Suspense,{fallback:a.createElement(Ns,{cellCtrl:e,parent:O})},ie?a.createElement(Y,{...N.params,key:w}):a.createElement(Y,{...N.params,key:w,ref:S}))}},pe=()=>{const N=()=>i==null?null:H?a.createElement("span",{role:"presentation",id:`cell-${u}`,className:Q,ref:L},de()):de(),V=Y=>Bs(Y,le,O.current,e,T);return d!=null?d.popup?a.createElement(a.Fragment,null,N(),V(d)):V(d):N()},Pe=()=>a.createElement("div",{ref:me,style:k,role:I,"col-id":c},H?a.createElement("div",{className:"ag-cell-wrapper",role:"presentation",ref:Re},pe()):pe());return e.isCellSpanning()?a.createElement("div",{ref:ee,className:"ag-spanned-cell-wrapper",role:"presentation"},Pe()):Pe()},Ws=t.memo(Is),Ts=({rowCtrl:e,containerType:s})=>{const{context:r,gos:n,editSvc:o}=t.useContext(Z),c=t.useContext(Ze)==="default",u=t.useRef(),l=t.useRef(e.getDomOrder()),i=e.isFullWidth(),m=e.rowNode.displayed,[d,E]=t.useState(()=>m?e.rowNode.getRowIndexString():null),[w,h]=t.useState(()=>e.rowId),[k,g]=t.useState(()=>e.businessKey),[C,p]=t.useState(()=>e.rowStyles),F=t.useRef(null),[x,v]=t.useState(()=>null),[f,T]=t.useState(),[B,_]=t.useState(()=>m?e.getInitialRowTop(s):void 0),[I,O]=t.useState(()=>m?e.getInitialTransform(s):void 0),y=t.useRef(null),S=t.useRef(),R=t.useRef(),W=t.useRef(!1),[b,K]=t.useState(0);t.useEffect(()=>{if(W.current||!f||b>10)return;const $=y.current?.firstChild;$?(e.setupDetailRowAutoHeight($),W.current=!0):K(me=>me+1)},[f,b]);const j=t.useRef();j.current||(j.current=new Fe(()=>y.current));const G=t.useRef(()=>{}),U=t.useCallback($=>(G.current=$,()=>{G.current=()=>{}}),[]),A=Yt(U,()=>F.current,[]),L=c?A:x,D=t.useCallback($=>{if(y.current=$,u.current=$?r.createBean(new ye):r.destroyBean(u.current),!$){e.unsetComp(s);return}if(!e.isAlive()||r.isDestroyed())return;const me={setTop:_,setTransform:O,toggleCss:(ee,ie)=>j.current.toggleCss(ee,ie),setDomOrder:ee=>l.current=ee,setRowIndex:E,setRowId:h,setRowBusinessKey:g,setUserStyles:p,setCellCtrls:(ee,ie)=>{const de=F.current,pe=ke(de,ee,l.current);pe!==de&&(F.current=pe,c?G.current():we(ie,()=>v(pe)))},showFullWidth:ee=>{R.current=ee.params,T(ee)},getFullWidthCellRenderer:()=>S.current,getFullWidthCellRendererParams:()=>R.current,refreshFullWidth:ee=>{const ie=ee();return R.current=ie,fe.current?(T(de=>({...de,params:ie})),!0):!S.current||!S.current.refresh?!1:S.current.refresh(ie)}};e.setComp(me,$,s,u.current)},[]);t.useLayoutEffect(()=>be(f,r,y.current,S),[f]);const H=t.useMemo(()=>{const $={top:B,transform:I};return Object.assign($,C),$},[B,I,C]),Q=i&&f?.componentFromFramework,le=!i&&L!=null,X=t.useMemo(()=>!!(f?.componentFromFramework&&ve(f.componentClass)),[f]),fe=t.useRef(!1);t.useEffect(()=>{fe.current=X&&!!f&&!!n.get("reactiveCustomComponents")},[X,f]);const Ce=()=>L?.map($=>a.createElement(Ws,{cellCtrl:$,editingCell:o?.isEditing($,{withOpenEditor:!0})??!1,printLayout:e.printLayout,key:$.instanceId})),Re=()=>{const $=f.componentClass;return X?a.createElement($,{...f.params}):a.createElement($,{...f.params,ref:S})};return a.createElement("div",{ref:D,role:"row",style:H,"row-index":d,"row-id":w,"row-business-key":k},le?Ce():Q?Re():null)},Je=t.memo(Ts),Hs=({name:e})=>{const{context:s,gos:r}=t.useContext(Z),n=t.useMemo(()=>yt(e),[e]),o=t.useRef(null),c=t.useRef(null),u=t.useRef(null),l=t.useRef([]),i=t.useRef([]),[m,d]=t.useState(()=>[]),E=!!r.get("enableCellSpan")&&!!n.getSpannedRowCtrls,w=t.useRef([]),h=t.useRef([]),[k,g]=t.useState(()=>[]),C=t.useRef(!1),p=t.useRef(),F=t.useMemo(()=>ne("ag-viewport",vt(e)),[e]),x=t.useMemo(()=>ne(Rt(e)),[e]),v=t.useMemo(()=>ne("ag-spanning-container",St(e)),[e]),f=n.type==="center"||E,T=f?o:c;he(" AG Row Container "+e+" ",T);const B=t.useCallback(()=>{const b=!f||o.current!=null,K=c.current!=null,j=!E||u.current!=null;return b&&K&&j},[]),_=t.useCallback(()=>o.current==null&&c.current==null&&u.current==null,[]),I=t.useCallback(()=>{if(_()&&(p.current=s.destroyBean(p.current)),!s.isDestroyed()&&B()){const b=G=>{const U=ke(i.current,l.current,C.current);U!==i.current&&(i.current=U,we(G,()=>d(U)))},K=G=>{const U=ke(h.current,w.current,C.current);U!==h.current&&(h.current=U,we(G,()=>g(U)))},j={setHorizontalScroll:G=>{o.current&&(o.current.scrollLeft=G)},setViewportHeight:G=>{o.current&&(o.current.style.height=G)},setRowCtrls:({rowCtrls:G,useFlushSync:U})=>{const A=!!U&&l.current.length>0&&G.length>0;l.current=G,b(A)},setSpannedRowCtrls:(G,U)=>{const A=!!U&&w.current.length>0&&G.length>0;w.current=G,K(A)},setDomOrder:G=>{C.current!=G&&(C.current=G,b(!1))},setContainerWidth:G=>{c.current&&(c.current.style.width=G)},setOffsetTop:G=>{c.current&&(c.current.style.transform=`translateY(${G})`)}};p.current=s.createBean(new wt(e)),p.current.setComp(j,c.current,u.current??void 0,o.current)}},[B,_]),O=t.useCallback(b=>{c.current=b,I()},[I]),y=t.useCallback(b=>{u.current=b,I()},[I]),S=t.useCallback(b=>{o.current=b,I()},[I]),R=()=>a.createElement("div",{className:x,ref:O,role:f?"presentation":"rowgroup"},m.map(b=>a.createElement(Je,{rowCtrl:b,containerType:n.type,key:b.instanceId})));if(!f)return R();const W=()=>a.createElement("div",{className:v,ref:y,role:"presentation"},k.map(b=>a.createElement(Je,{rowCtrl:b,containerType:n.type,key:b.instanceId})));return a.createElement("div",{className:F,ref:S,role:"rowgroup"},R(),E?W():null)},js=t.memo(Hs),Us=()=>{const e=t.useContext(Z),{context:s,overlays:r}=e,[n,o]=t.useState(""),[c,u]=t.useState(0),[l,i]=t.useState(0),[m,d]=t.useState("0px"),[E,w]=t.useState("0px"),[h,k]=t.useState("100%"),[g,C]=t.useState("0px"),[p,F]=t.useState("0px"),[x,v]=t.useState("100%"),[f,T]=t.useState(!0),[B,_]=t.useState(!0),[I,O]=t.useState(null),[y,S]=t.useState(""),[R,W]=t.useState(null),[b,K]=t.useState("ag-layout-normal"),j=t.useRef();j.current||(j.current=new Fe(()=>G.current));const G=t.useRef(null),U=t.useRef(null),A=t.useRef(null),L=t.useRef(null),D=t.useRef(null),H=t.useRef(null),Q=t.useRef(null),le=t.useRef([]),X=t.useRef([]);he(" AG Grid Body ",G),he(" AG Pinned Top ",U),he(" AG Sticky Top ",A),he(" AG Middle ",H),he(" AG Pinned Bottom ",Q);const fe=t.useCallback(M=>{if(G.current=M,!M||s.isDestroyed()){le.current=s.destroyBeans(le.current);for(const J of X.current)J();X.current=[];return}const z=(J,re)=>{J.appendChild(re),X.current.push(()=>re.remove())},te=J=>{const re=s.createBean(new J);return le.current.push(re),re},ue=(J,re,ut)=>{z(J,document.createComment(ut)),z(J,te(re).getGui())};ue(M,It," AG Fake Horizontal Scroll ");const se=r?.getOverlayWrapperCompClass();se&&ue(M,se," AG Overlay Wrapper "),D.current&&ue(D.current,Wt," AG Fake Vertical Scroll ");const Se={setRowAnimationCssOnBodyViewport:o,setColumnCount:J=>{G.current&&Nt(G.current,J)},setRowCount:J=>{G.current&&Ot(G.current,J)},setTopHeight:u,setBottomHeight:i,setStickyTopHeight:d,setStickyTopTop:w,setStickyTopWidth:k,setTopInvisible:T,setBottomInvisible:_,setColumnMovingCss:(J,re)=>j.current.toggleCss(J,re),updateLayoutClasses:K,setAlwaysVerticalScrollClass:O,setPinnedTopBottomOverflowY:S,setCellSelectableCss:(J,re)=>W(re?J:null),setBodyViewportWidth:J=>{H.current&&(H.current.style.width=J)},registerBodyViewportResizeListener:J=>{if(H.current){const re=qe(e,H.current,J);X.current.push(()=>re())}},setStickyBottomHeight:C,setStickyBottomBottom:F,setStickyBottomWidth:v,setGridRootRole:J=>M.setAttribute("role",J)},He=s.createBean(new bt);le.current.push(He),He.setComp(Se,M,H.current,U.current,Q.current,A.current,L.current)},[]),Ce=t.useMemo(()=>ne("ag-root","ag-unselectable",b),[b]),Re=t.useMemo(()=>ne("ag-body-viewport",n,b,I,R),[n,b,I,R]),$=t.useMemo(()=>ne("ag-body",b),[b]),me=t.useMemo(()=>ne("ag-floating-top",f?"ag-invisible":null,R),[R,f]),ee=t.useMemo(()=>ne("ag-sticky-top",R),[R]),ie=t.useMemo(()=>ne("ag-sticky-bottom",g==="0px"?"ag-invisible":null,R),[R,g]),de=t.useMemo(()=>ne("ag-floating-bottom",B?"ag-invisible":null,R),[R,B]),pe=t.useMemo(()=>({height:c,minHeight:c,overflowY:y}),[c,y]),Pe=t.useMemo(()=>({height:m,top:E,width:h}),[m,E,h]),N=t.useMemo(()=>({height:g,bottom:p,width:x}),[g,p,x]),V=t.useMemo(()=>({height:l,minHeight:l,overflowY:y}),[l,y]),Y=M=>a.createElement(js,{name:M,key:`${M}-container`}),q=({section:M,children:z,className:te,style:ue})=>a.createElement("div",{ref:M,className:te,role:"presentation",style:ue},z.map(Y));return a.createElement("div",{ref:fe,className:Ce},a.createElement(ks,null),q({section:U,className:me,style:pe,children:["topLeft","topCenter","topRight","topFullWidth"]}),a.createElement("div",{className:$,ref:D,role:"presentation"},q({section:H,className:Re,children:["left","center","right","fullWidth"]})),q({section:A,className:ee,style:Pe,children:["stickyTopLeft","stickyTopCenter","stickyTopRight","stickyTopFullWidth"]}),q({section:L,className:ie,style:N,children:["stickyBottomLeft","stickyBottomCenter","stickyBottomRight","stickyBottomFullWidth"]}),q({section:Q,className:de,style:V,children:["bottomLeft","bottomCenter","bottomRight","bottomFullWidth"]}))},Ls=t.memo(Us),Vs=(e,s)=>{const{children:r,eFocusableElement:n,onTabKeyDown:o,gridCtrl:c,forceFocusOutWhenTabGuardsAreEmpty:u,isEmpty:l}=e,{context:i}=t.useContext(Z),m=t.useRef(null),d=t.useRef(null),E=t.useRef(),w=p=>{const F=p==null?void 0:parseInt(p,10).toString();for(const x of[m,d])F===void 0?x.current?.removeAttribute("tabindex"):x.current?.setAttribute("tabindex",F)};t.useImperativeHandle(s,()=>({forceFocusOutOfContainer(p){E.current?.forceFocusOutOfContainer(p)}}));const h=t.useCallback(()=>{const p=m.current,F=d.current;if(!p&&!F||i.isDestroyed()){E.current=i.destroyBean(E.current);return}if(p&&F){const x={setTabIndex:w};E.current=i.createBean(new Pt({comp:x,eTopGuard:p,eBottomGuard:F,eFocusableElement:n,onTabKeyDown:o,forceFocusOutWhenTabGuardsAreEmpty:u,focusInnerElement:v=>c.focusInnerElement(v),isEmpty:l}))}},[]),k=t.useCallback(p=>{m.current=p,h()},[h]),g=t.useCallback(p=>{d.current=p,h()},[h]),C=p=>{const F=p==="top"?Ge.TAB_GUARD_TOP:Ge.TAB_GUARD_BOTTOM;return a.createElement("div",{className:`${Ge.TAB_GUARD} ${F}`,role:"presentation",ref:p==="top"?k:g})};return a.createElement(a.Fragment,null,C("top"),r,C("bottom"))},_s=t.forwardRef(Vs),$s=t.memo(_s),zs=({context:e})=>{const[s,r]=t.useState(""),[n,o]=t.useState(""),[c,u]=t.useState(null),[l,i]=t.useState(null),[m,d]=t.useState(!1),[E,w]=t.useState(),h=t.useRef(),k=t.useRef(null),g=t.useRef(),[C,p]=t.useState(null),F=t.useRef(()=>{}),x=t.useRef(),v=t.useRef([]),f=t.useCallback(()=>{},[]);he(" AG Grid ",k);const T=t.useCallback(S=>{if(k.current=S,h.current=S?e.createBean(new Et):e.destroyBean(h.current),!S||e.isDestroyed())return;const R=h.current;F.current=R.focusInnerElement.bind(R);const W={destroyGridUi:()=>{},setRtlClass:r,forceFocusOutOfContainer:b=>{if(!b&&x.current?.isDisplayed()){x.current.forceFocusOutOfContainer(b);return}g.current?.forceFocusOutOfContainer(b)},updateLayoutClasses:o,getFocusableContainers:()=>{const b=[],K=k.current?.querySelector(".ag-root");K&&b.push({getGui:()=>K});for(const j of v.current)j.isDisplayed()&&b.push(j);return b},setCursor:u,setUserSelect:i};R.setComp(W,S,S),d(!0)},[]);t.useEffect(()=>{const S=h.current,R=k.current;if(!E||!S||!C||!R||e.isDestroyed())return;const W=[],{watermarkSelector:b,paginationSelector:K,sideBarSelector:j,statusBarSelector:G,gridHeaderDropZonesSelector:U}=S.getOptionalSelectors(),A=[];if(U){const D=e.createBean(new U.component),H=D.getGui();R.insertAdjacentElement("afterbegin",H),A.push(H),W.push(D)}if(j){const D=e.createBean(new j.component),H=D.getGui(),Q=C.querySelector(".ag-tab-guard-bottom");Q&&(Q.insertAdjacentElement("beforebegin",H),A.push(H)),W.push(D),v.current.push(D)}const L=D=>{const H=e.createBean(new D),Q=H.getGui();return R.insertAdjacentElement("beforeend",Q),A.push(Q),W.push(H),H};if(G&&L(G.component),K){const D=L(K.component);x.current=D,v.current.push(D)}return b&&L(b.component),()=>{e.destroyBeans(W);for(const D of A)D.remove()}},[E,C,e]);const B=t.useMemo(()=>ne("ag-root-wrapper",s,n),[s,n]),_=t.useMemo(()=>ne("ag-root-wrapper-body","ag-focus-managed",n),[n]),I=t.useMemo(()=>({userSelect:l??"",WebkitUserSelect:l??"",cursor:c??""}),[l,c]),O=t.useCallback(S=>{g.current=S,w(S!==null)},[]),y=t.useCallback(()=>!h.current?.isFocusable(),[]);return a.createElement("div",{ref:T,className:B,style:I,role:"presentation"},a.createElement("div",{className:_,ref:p,role:"presentation"},m&&C&&!e.isDestroyed()&&a.createElement(Z.Provider,{value:e.getBeans()},a.createElement($s,{ref:O,eFocusableElement:C,onTabKeyDown:f,gridCtrl:h.current,forceFocusOutWhenTabGuardsAreEmpty:!0,isEmpty:y},a.createElement(Ls,null)))))},Js=t.memo(zs),Ks=class extends jt{postConstruct(){if(this.beans.colAutosize){const e=this.queueResizeOperationsForTick.bind(this);this.addManagedEventListeners({rowExpansionStateChanged:e,expandOrCollapseAll:e,cellValueChanged:e,rowNodeDataChanged:e,rowDataUpdated:e})}}queueResizeOperationsForTick(){const e=this.beans.colAutosize;e.shouldQueueResizeOperations=!0,setTimeout(()=>{e.processResizeOperations()},0)}areHeaderCellsRendered(){return this.beans.ctrlsSvc.getHeaderRowContainerCtrls().every(e=>e.getAllCtrls().every(s=>s.areCellsRendered()))}areCellsRendered(){return this.beans.rowRenderer.getAllRowCtrls().every(e=>e.isRowRendered()&&e.getAllCellCtrls().every(s=>!!s.eGui))}},ot={setGridApi:void 0,maxComponentCreationTimeMs:void 0,children:void 0},qs={gridOptions:void 0,modules:void 0,containerStyle:void 0,className:void 0,passGridApi:void 0,componentWrappingElement:void 0,...ot},at=new Set(Object.keys(qs)),Qs=new Set(Object.keys(ot)),ct=e=>{const s=t.useRef(),r=t.useRef(null),n=t.useRef(null),o=t.useRef([]),c=t.useRef([]),u=t.useRef(e),l=t.useRef(),i=t.useRef(),m=t.useRef(!1),[d,E]=t.useState(void 0),[,w]=t.useState(0),h=t.useRef(),k=x=>{const v=r.current?.classList,f=(T="")=>T.trim().split(/\s+/g).filter(Boolean);if(h.current!==x){for(const T of f(h.current))v?.contains(T)&&v.remove(T);for(const T of f(x))v?.contains(T)||v?.add(T);h.current=x}};t.useLayoutEffect(()=>{k(e.className)},[e.className]);const g=t.useCallback(x=>{if(r.current=x,k(e.className),!x){for(const R of o.current)R();o.current.length=0;return}const v=e.modules||[];n.current||(n.current=new fs(()=>w(R=>R+1),e.componentWrappingElement,e.maxComponentCreationTimeMs),o.current.push(()=>{n.current?.destroy(),n.current=null}));const f=Ft(e.gridOptions,e,Object.keys(e).filter(R=>!at.has(R))),T=()=>{if(m.current){const R=()=>l.current?.shouldQueueUpdates()?void 0:c.current.shift();let W=R();for(;W;)W(),W=R()}},B=new er(T);l.current=B;const _=new Ks,I={providedBeanInstances:{frameworkCompWrapper:new Zs(n.current,f),renderStatus:_},modules:v,frameworkOverrides:B,setThemeOnGridDiv:!0},O=R=>{E(R),R.createBean(_),o.current.push(()=>{R.destroy()}),R.getBean("ctrlsSvc").whenReady({addDestroyFunc:W=>{o.current.push(W)}},()=>{if(R.isDestroyed())return;const W=s.current;W&&e.passGridApi?.(W)})},y=R=>{R.getBean("ctrlsSvc").whenReady({addDestroyFunc:W=>{o.current.push(W)}},()=>{for(const W of c.current)W();c.current.length=0,m.current=!0})},S=new xt;f.gridId??(f.gridId=i.current),s.current=S.create(x,f,O,y,I),o.current.push(()=>{s.current=void 0}),s.current&&(i.current=s.current.getGridId())},[]),C=t.useMemo(()=>({height:"100%",...e.containerStyle||{}}),[e.containerStyle]),p=t.useCallback(x=>{m.current&&!l.current?.shouldQueueUpdates()?x():c.current.push(x)},[]);t.useEffect(()=>{const x=Ys(u.current,e);u.current=e,p(()=>{s.current&&Gt(x,s.current)})},[e]);const F=!a.useSyncExternalStore||Ee(e,"renderingMode")==="legacy"?"legacy":"default";return a.createElement("div",{style:C,ref:g},a.createElement(Ze.Provider,{value:F},d&&!d.isDestroyed()?a.createElement(Js,{key:d.instanceId,context:d}):null,n.current?.getPortals()??null))};function Ys(e,s){const r={};for(const n of Object.keys(s)){if(at.has(n)){Qs.has(n)&&Ie(274,{prop:n});continue}const o=s[n];e[n]!==o&&(r[n]=o)}return r}var Zs=class extends Ht{constructor(e,s){super(),this.parent=e,this.gridOptions=s}createWrapper(e,s){const r=this.gridOptions;if(Ee(r,"reactiveCustomComponents")){const u=(l=>{switch(l){case"filter":return Ee(r,"enableFilterHandlers")?as:os;case"floatingFilterComponent":return Ee(r,"enableFilterHandlers")?ls:is;case"dateComponent":return rs;case"dragAndDropImageComponent":return ns;case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":return ss;case"statusPanel":return ps;case"toolPanel":return ms;case"menuItem":return ds;case"cellRenderer":return ts;case"innerHeaderComponent":return us}})(s.name);if(u)return new u(e,this.parent,s)}else switch(s.name){case"filter":case"floatingFilterComponent":case"dateComponent":case"dragAndDropImageComponent":case"loadingOverlayComponent":case"noRowsOverlayComponent":case"activeOverlay":case"statusPanel":case"toolPanel":case"menuItem":case"cellRenderer":Te();break}const o=!s.cellRenderer&&s.name!=="toolPanel";return new st(e,this.parent,s,o)}},Xs=t.forwardRef((e,s)=>{const r=t.useContext(Z),{registry:n,context:o,gos:c,rowModel:u}=r,[l,i]=t.useState(()=>new oe),[m,d]=t.useState(()=>new oe),[E,w]=t.useState(),[h,k]=t.useState(),g=t.useRef(),C=t.useRef(null),p=t.useRef(),F=t.useMemo(()=>ht(e.api.getGridId(),E?.rowModelType??"clientSide"),[e]),x=t.useMemo(()=>l.toString()+" ag-details-row",[l]),v=t.useMemo(()=>m.toString()+" ag-details-grid",[m]);s&&t.useImperativeHandle(s,()=>({refresh(){return g.current?.refresh()??!1}})),e.template&&Ie(230);const f=t.useCallback(B=>{if(C.current=B,!B||o.isDestroyed()){g.current=o.destroyBean(g.current),p.current?.();return}const _={toggleCss:(O,y)=>i(S=>S.setClass(O,y)),toggleDetailGridCss:(O,y)=>d(S=>S.setClass(O,y)),setDetailGrid:O=>w(O),setRowData:O=>k(O),getGui:()=>C.current},I=n.createDynamicBean("detailCellRendererCtrl",!0);if(I&&(o.createBean(I),I.init(_,e),g.current=I,c.get("detailRowAutoHeight"))){const O=()=>{if(C.current==null)return;const y=C.current.clientHeight;y!=null&&y>0&&setTimeout(()=>{e.node.setRowHeight(y),(Mt(c)||kt(c))&&u.onRowHeightChanged()},0)};p.current=qe(r,B,O),O()}},[]),T=t.useCallback(B=>{g.current?.registerDetailWithMaster(B)},[]);return a.createElement("div",{className:x,ref:f},E&&a.createElement(ct,{className:v,...E,modules:F,rowData:h,passGridApi:T}))}),er=class extends Tt{constructor(e){super("react"),this.processQueuedUpdates=e,this.queueUpdates=!1,this.renderingEngine="react",this.frameworkComponents={agGroupCellRenderer:Ve,agGroupRowRenderer:Ve,agDetailCellRenderer:Xs},this.wrapIncoming=(s,r)=>r==="ensureVisible"?qt(s):s()}frameworkComponent(e){return this.frameworkComponents[e]}isFrameworkComponent(e){if(!e)return!1;const s=e.prototype;return!(s&&"getGui"in s)}getLockOnRefresh(){this.queueUpdates=!0}releaseLockOnRefresh(){this.queueUpdates=!1,this.processQueuedUpdates()}shouldQueueUpdates(){return this.queueUpdates}runWhenReadyAsync(){return Kt()}},it=class extends t.Component{constructor(){super(...arguments),this.apiListeners=[],this.setGridApi=e=>{this.api=e;for(const s of this.apiListeners)s(e)}}registerApiListener(e){this.apiListeners.push(e)}componentWillUnmount(){this.apiListeners.length=0}render(){return a.createElement(ct,{...this.props,passGridApi:this.setGridApi})}};const Ke={1:"",2:"",3:""};function lt({n:e,ordinal:s=!1}){return P.jsxs("span",{className:"place",children:[Ke[e]?Ke[e]+" ":"",e,s?Jt(e):""]})}const De=e=>P.jsx(lt,{n:e.value,ordinal:!1}),tr=[{headerName:"Place Overall",field:"overallPlace",cellRenderer:De},{headerName:"Place in Gender",field:"genderPlace",cellRenderer:De},{headerName:"Place in Age Group",field:"ageGroupPlace",cellRenderer:De},{headerName:"First Name",field:"firstName"},{headerName:"Last Name",field:"lastName"},{headerName:"Gender",field:"gender"},{headerName:"Pace",field:"pace"},{headerName:"Overall Time",field:"overallTime"},{headerName:"Age",field:"age"},{headerName:"Place in Gender (Age Graded)",field:"ageGradePlace"},{headerName:"Percent (Age Graded)",field:"ageGradePercent"},{headerName:"City",field:"city"},{headerName:"State",field:"stateProvince"},{headerName:"Country",field:"countryCode"}];function sr({results:e}){return P.jsx("div",{children:P.jsx(it,{rowData:e,columnDefs:tr,autoSizeStrategy:{type:"fitCellContents"},domLayout:"autoHeight"})})}function Be({results:e,gender:s}){const r=zt(s,e);if(r===0)return P.jsx(P.Fragment,{});const n=e[s];return P.jsx("div",{className:"gender-finishers",children:Object.entries(n).map(([o,c])=>P.jsxs("div",{children:[P.jsx("h4",{children:o==="0"?`Overall ${Oe[s]} (${r})`:`Masters ${o}+ (${c.length})`}),P.jsx(sr,{results:c})]},`${s}-${o}`))})}function rr({results:e}){if(e===void 0)return P.jsx("section",{children:P.jsx("p",{children:"Loading..."})});if(e===null)return P.jsx("section",{children:P.jsx("p",{children:"Error loading results"})});if(e.items.length===0)return P.jsx(P.Fragment,{});const s={};return e.items.forEach(r=>{s[r.gender]||(s[r.gender]={}),$t(r.age).forEach(o=>{s[r.gender][o]||(s[r.gender][o]=[]),s[r.gender][o].push(r)})}),P.jsxs("section",{children:[P.jsxs("h2",{children:["Total Finishers (",e.items.length,")"]}),P.jsx(Be,{results:s,gender:ge.Women}),P.jsx(Be,{results:s,gender:ge.Men}),P.jsx(Be,{results:s,gender:ge.NonBinary})]})}const nr=[{headerName:"First Name",field:"firstName"},{headerName:"Last Name",field:"lastName"},{headerName:"Finish Time",field:"finishTime",valueFormatter:e=>Ye(e.value)}];function or({runners:e}){return P.jsx("div",{children:P.jsx(it,{rowData:e,columnDefs:nr,autoSizeStrategy:{type:"fitCellContents"},domLayout:"autoHeight"})})}function ar({awards:e}){return e===void 0?P.jsx("section",{children:P.jsx("p",{children:"Loading..."})}):e===null?P.jsx("section",{children:P.jsx("p",{children:"Error loading awards"})}):e.length===0?P.jsx(P.Fragment,{}):P.jsxs("section",{children:[P.jsx("h2",{children:"Awards"}),e.map(s=>{const r=s.minimumAge===0?`Open Class ${Oe[s.teamGender]}`:`Master's ${Oe[s.teamGender]} ${s.minimumAge}+`;return P.jsxs("div",{children:[P.jsx("h3",{children:r}),Ye(s.summaryTime)," -"," ",P.jsx(lt,{n:s.teamOrder,ordinal:!0})," Place",P.jsx(or,{runners:s.runners.items})]},`${s.teamCode}-${s.teamGender}-${s.awardId}`)})]})}function cr({eventCode:e}){const r=t.useContext(Ut)?.items.find(u=>u.eventCode===e),n=new Lt,o=je(()=>n.getTeamRunners(e,Ue),[e]),c=je(()=>n.getAllRaceAwardRunners(e,Ue),[e]);return P.jsxs("div",{className:"content",children:[P.jsxs("section",{className:"race-details",children:[P.jsxs("p",{children:[P.jsx("b",{children:"Date and Time: "}),r&&new Date(r?.startDateTime).toLocaleString("en-US",{dateStyle:"full",timeStyle:"medium"})]}),r?.venue&&P.jsxs("p",{children:[P.jsx("b",{children:"Location: "}),r.venue]}),r?.weather&&P.jsxs("p",{children:[P.jsx("b",{children:"Weather: "}),r.weather]})]}),P.jsx(ar,{awards:c}),P.jsx(rr,{results:o})]})}const dr=dt(function(){const{eventCode:s}=pt();return s?P.jsx(cr,{eventCode:s}):P.jsx("div",{children:"Something went wrong"})});export{dr as default};
