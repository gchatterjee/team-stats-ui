import{q as h,t as m,R as p,a as i,p as e,w as x,v as f,M as g,L as j,S as v,x as E,O as y,i as N}from"./chunk-WWGJGFF6-BXEJCw1g.js";import{u as R,N as w,a as L,M as C,A as b,E as M}from"./main.esm-y48SfkWO.js";const u=(r,s)=>{const n=r.match(/\/stats\/([^/]+)/);return n?n[1]:s.eventCode};function O({setEvents:r}){const s=new w,n=h(),a=m(),t=R(s.getRecentEvents,[]),[l,d]=p.useState("");i.useEffect(()=>{if(console.log({events:t,"location.pathname":a.pathname}),r(t),t){const[o]=t.items;console.log("events loaded in header",u(a.pathname,o)),d(u(a.pathname,o))}},[t,a.pathname]),i.useEffect(()=>{console.log({value:l}),l&&n(`/stats/${l}`)},[l]);let c;return t===void 0?c=e.jsx("select",{disabled:!0}):t===null?c=e.jsx("p",{children:"Error Loading Events"}):t.items.length===0?c=e.jsx("select",{disabled:!0}):c=e.jsx("select",{className:"bg-stone-800 text-stone-200",onChange:o=>d(`${o.target.value}`),value:l,children:t.items.map(o=>e.jsx("option",{value:o.eventCode,children:o.eventName},o.eventCode))}),e.jsxs("header",{className:"bg-stone-950",children:[e.jsx("div",{className:"header-component",children:e.jsx("img",{src:L,alt:"North Brooklyn Runners Logo"})}),e.jsx("div",{className:"header-component",children:c})]})}C.registerModules([b]);const k=()=>[{rel:"preconnect",href:"https://fonts.googleapis.com"},{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"},{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap"}];function A({children:r}){return e.jsxs("html",{lang:"en",children:[e.jsxs("head",{children:[e.jsx("meta",{charSet:"utf-8"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx(g,{}),e.jsx(j,{})]}),e.jsxs("body",{children:[r,e.jsx(v,{}),e.jsx(E,{})]})]})}const P=x(function(){const[s,n]=i.useState(void 0);return e.jsxs(M.Provider,{value:s,children:[e.jsx(O,{setEvents:n}),e.jsx(y,{})]})}),q=f(function({error:s}){let n="Oops!",a="An unexpected error occurred.",t;return N(s)&&(n=s.status===404?"404":"Error",a=s.status===404?"The requested page could not be found.":s.statusText||a),e.jsxs("main",{className:"pt-16 p-4 container mx-auto",children:[e.jsx("h1",{children:n}),e.jsx("p",{children:a}),t]})});export{q as ErrorBoundary,A as Layout,P as default,k as links};
